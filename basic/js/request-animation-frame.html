<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>requestAnimationFrame | Jerry 个人博客</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script>
      (function() {
        var mta = document.createElement("script");
        mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";
        mta.setAttribute("name", "MTAH5");
        mta.setAttribute("sid", "500708667");
        mta.setAttribute("cid", "500708668");
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(mta, s);
      })();
    </script>
    <script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="Jerry's blog">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.06744937.css" as="style"><link rel="preload" href="/assets/js/app.60e74413.js" as="script"><link rel="preload" href="/assets/js/14.69f023c0.js" as="script"><link rel="preload" href="/assets/js/2.720ba71e.js" as="script"><link rel="preload" href="/assets/js/24.7d1837f0.js" as="script"><link rel="prefetch" href="/assets/js/10.4356ad27.js"><link rel="prefetch" href="/assets/js/100.c99580b9.js"><link rel="prefetch" href="/assets/js/101.356781a9.js"><link rel="prefetch" href="/assets/js/11.b045add9.js"><link rel="prefetch" href="/assets/js/12.aeedaf60.js"><link rel="prefetch" href="/assets/js/13.fb627b38.js"><link rel="prefetch" href="/assets/js/15.9fedbce0.js"><link rel="prefetch" href="/assets/js/16.1a7de72a.js"><link rel="prefetch" href="/assets/js/17.fa224a6a.js"><link rel="prefetch" href="/assets/js/18.1a72bef8.js"><link rel="prefetch" href="/assets/js/19.e11c0116.js"><link rel="prefetch" href="/assets/js/20.6a6f73dd.js"><link rel="prefetch" href="/assets/js/21.56a777d3.js"><link rel="prefetch" href="/assets/js/22.6773a84c.js"><link rel="prefetch" href="/assets/js/23.136061fb.js"><link rel="prefetch" href="/assets/js/25.31ab58df.js"><link rel="prefetch" href="/assets/js/26.a5e7b497.js"><link rel="prefetch" href="/assets/js/27.9609abfa.js"><link rel="prefetch" href="/assets/js/28.bbb9cd06.js"><link rel="prefetch" href="/assets/js/29.8892b17d.js"><link rel="prefetch" href="/assets/js/3.b7eab624.js"><link rel="prefetch" href="/assets/js/30.74b203cc.js"><link rel="prefetch" href="/assets/js/31.f8502b39.js"><link rel="prefetch" href="/assets/js/32.4a6fdb4c.js"><link rel="prefetch" href="/assets/js/33.06378ca2.js"><link rel="prefetch" href="/assets/js/34.0060ef5f.js"><link rel="prefetch" href="/assets/js/35.1635574b.js"><link rel="prefetch" href="/assets/js/36.ba0ea7aa.js"><link rel="prefetch" href="/assets/js/37.1fe72493.js"><link rel="prefetch" href="/assets/js/38.6140df13.js"><link rel="prefetch" href="/assets/js/39.75defbda.js"><link rel="prefetch" href="/assets/js/4.99432b89.js"><link rel="prefetch" href="/assets/js/40.95f6174a.js"><link rel="prefetch" href="/assets/js/41.edc39790.js"><link rel="prefetch" href="/assets/js/42.9dcf7ed0.js"><link rel="prefetch" href="/assets/js/43.027f7ff4.js"><link rel="prefetch" href="/assets/js/44.a7fa2c02.js"><link rel="prefetch" href="/assets/js/45.3bd0a364.js"><link rel="prefetch" href="/assets/js/46.6682a04b.js"><link rel="prefetch" href="/assets/js/47.a61c377c.js"><link rel="prefetch" href="/assets/js/48.1f4bbd9a.js"><link rel="prefetch" href="/assets/js/49.7f23a237.js"><link rel="prefetch" href="/assets/js/5.406f67b1.js"><link rel="prefetch" href="/assets/js/50.2a56a559.js"><link rel="prefetch" href="/assets/js/51.bb97c3da.js"><link rel="prefetch" href="/assets/js/52.446d5740.js"><link rel="prefetch" href="/assets/js/53.e8184b0c.js"><link rel="prefetch" href="/assets/js/54.c9a5e3ed.js"><link rel="prefetch" href="/assets/js/55.97bb4c63.js"><link rel="prefetch" href="/assets/js/56.cb3d973f.js"><link rel="prefetch" href="/assets/js/57.37f3fb00.js"><link rel="prefetch" href="/assets/js/58.0d7c2f4b.js"><link rel="prefetch" href="/assets/js/59.4a2f6def.js"><link rel="prefetch" href="/assets/js/6.95b28193.js"><link rel="prefetch" href="/assets/js/60.b2a604a0.js"><link rel="prefetch" href="/assets/js/61.debbb7b9.js"><link rel="prefetch" href="/assets/js/62.0bd56b0e.js"><link rel="prefetch" href="/assets/js/63.57bf8cbe.js"><link rel="prefetch" href="/assets/js/64.41c1fb35.js"><link rel="prefetch" href="/assets/js/65.f53d1b42.js"><link rel="prefetch" href="/assets/js/66.566689b9.js"><link rel="prefetch" href="/assets/js/67.f5cf077d.js"><link rel="prefetch" href="/assets/js/68.95bc1b6c.js"><link rel="prefetch" href="/assets/js/69.bdc844a1.js"><link rel="prefetch" href="/assets/js/7.6619bfc9.js"><link rel="prefetch" href="/assets/js/70.94a6894a.js"><link rel="prefetch" href="/assets/js/71.4e9ddb06.js"><link rel="prefetch" href="/assets/js/72.2c8413d7.js"><link rel="prefetch" href="/assets/js/73.64fdac61.js"><link rel="prefetch" href="/assets/js/74.a6f66ae3.js"><link rel="prefetch" href="/assets/js/75.9e940b3a.js"><link rel="prefetch" href="/assets/js/76.7e0d8e19.js"><link rel="prefetch" href="/assets/js/77.c67342fb.js"><link rel="prefetch" href="/assets/js/78.a5bd97d1.js"><link rel="prefetch" href="/assets/js/79.3a3e3541.js"><link rel="prefetch" href="/assets/js/8.d0a8a3ed.js"><link rel="prefetch" href="/assets/js/80.97620f66.js"><link rel="prefetch" href="/assets/js/81.0d8341aa.js"><link rel="prefetch" href="/assets/js/82.0d309601.js"><link rel="prefetch" href="/assets/js/83.6123aeae.js"><link rel="prefetch" href="/assets/js/84.00b21399.js"><link rel="prefetch" href="/assets/js/85.d22ae4f9.js"><link rel="prefetch" href="/assets/js/86.a79065fe.js"><link rel="prefetch" href="/assets/js/87.01664722.js"><link rel="prefetch" href="/assets/js/88.1cb8429e.js"><link rel="prefetch" href="/assets/js/89.a36be8c5.js"><link rel="prefetch" href="/assets/js/9.f2277063.js"><link rel="prefetch" href="/assets/js/90.ebfec47e.js"><link rel="prefetch" href="/assets/js/91.47f73c78.js"><link rel="prefetch" href="/assets/js/92.4ae86837.js"><link rel="prefetch" href="/assets/js/93.8bbf0769.js"><link rel="prefetch" href="/assets/js/94.8f1e3309.js"><link rel="prefetch" href="/assets/js/95.ea1c2085.js"><link rel="prefetch" href="/assets/js/96.08475163.js"><link rel="prefetch" href="/assets/js/97.a8c7442e.js"><link rel="prefetch" href="/assets/js/98.9d7ce618.js"><link rel="prefetch" href="/assets/js/99.eb0c7f6a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.06744937.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Jerry 个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic/js/index.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/basic/css/index.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/basic/html/index.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/http/index.html" class="nav-link">
  HTTP
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue 系列" class="dropdown-title"><span class="title">Vue 系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/vue/vue2/index.html" class="nav-link">
  Vue 2
</a></li><li class="dropdown-item"><!----> <a href="/tools/vue/vue3/index.html" class="nav-link">
  Vue 3
</a></li><li class="dropdown-item"><!----> <a href="/tools/vue/vuex/index.html" class="nav-link">
  Vuex
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码精读" class="dropdown-title"><span class="title">源码精读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/snabbdom/index.html" class="nav-link">
  Snabbdom
</a></li><li class="dropdown-item"><!----> <a href="/tools/axios/index.html" class="nav-link">
  Axios
</a></li></ul></div></div><div class="nav-item"><a href="/backend/" class="nav-link">
  技能拓展
</a></div><div class="nav-item"><a href="/tools/webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About Me
</a></div> <a href="https://github.com/JerryYuanJ/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic/js/index.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/basic/css/index.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/basic/html/index.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/http/index.html" class="nav-link">
  HTTP
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue 系列" class="dropdown-title"><span class="title">Vue 系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/vue/vue2/index.html" class="nav-link">
  Vue 2
</a></li><li class="dropdown-item"><!----> <a href="/tools/vue/vue3/index.html" class="nav-link">
  Vue 3
</a></li><li class="dropdown-item"><!----> <a href="/tools/vue/vuex/index.html" class="nav-link">
  Vuex
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码精读" class="dropdown-title"><span class="title">源码精读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/snabbdom/index.html" class="nav-link">
  Snabbdom
</a></li><li class="dropdown-item"><!----> <a href="/tools/axios/index.html" class="nav-link">
  Axios
</a></li></ul></div></div><div class="nav-item"><a href="/backend/" class="nav-link">
  技能拓展
</a></div><div class="nav-item"><a href="/tools/webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About Me
</a></div> <a href="https://github.com/JerryYuanJ/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic/js/data-compare.html" class="sidebar-link">数据类型转换</a></li><li><a href="/basic/js/reduce.html" class="sidebar-link">reduce方法详解</a></li><li><a href="/basic/js/fetch.html" class="sidebar-link">fetch方法详解</a></li><li><a href="/basic/js/request-animation-frame.html" aria-current="page" class="active sidebar-link">requestAnimationFrame</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic/js/request-animation-frame.html#css-动画原理" class="sidebar-link">CSS 动画原理</a></li><li class="sidebar-sub-header"><a href="/basic/js/request-animation-frame.html#requestanimationframe的特点" class="sidebar-link">requestAnimationFrame的特点</a></li><li class="sidebar-sub-header"><a href="/basic/js/request-animation-frame.html#使用案例" class="sidebar-link">使用案例</a></li><li class="sidebar-sub-header"><a href="/basic/js/request-animation-frame.html#polyfill" class="sidebar-link">polyfill</a></li></ul></li><li><a href="/basic/js/debounce-throttle.html" class="sidebar-link">函数节流和防抖</a></li><li><a href="/basic/js/module.html" class="sidebar-link">前端模块化</a></li><li><a href="/basic/js/web-component.html" class="sidebar-link">Web Component &amp; Shadow DOM</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Coding With JS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic/js/promise.html" class="sidebar-link">实现Promise</a></li><li><a href="/basic/js/bind.html" class="sidebar-link">实现apply/call/bind</a></li><li><a href="/basic/js/new.html" class="sidebar-link">实现new操作符</a></li><li><a href="/basic/js/create.html" class="sidebar-link">实现Object.create()</a></li><li><a href="/basic/js/deep-clone.html" class="sidebar-link">实现深拷贝</a></li><li><a href="/basic/js/add-big-number.html" class="sidebar-link">实现大数相加</a></li><li><a href="/basic/js/sleep.html" class="sidebar-link">实现sleep功能</a></li></ul></section></li></ul> <div class="adsense-content" data-v-8d82fd90><div style="padding: 2rem" data-v-8d82fd90></div></div></aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="requestanimationframe"><a href="#requestanimationframe" class="header-anchor">#</a> requestAnimationFrame</h1> <p>我们知道，在web应用中，实现动画有很多方式，比如使用CSS的 <code>transition</code> 和 <code>animation</code>，或者使用javascript的 <code>setTimeout</code> 和 <code>setInterval</code>等，然而今天我们要介绍的，则是html5中专门为实现动画设计的API——<code>requestAnimationFrame</code>。我们本节就来学习这个方法，看看它为js动画带来了哪些好处。</p> <h2 id="css-动画原理"><a href="#css-动画原理" class="header-anchor">#</a> CSS 动画原理</h2> <p>在<code>requestAnimationFrame</code>出现以前，js实现动画只能靠定时器。我们给定时器设置延迟时间时，需要考虑这个时间的长短。如果太长了，那么动画就会显得很慢，不流畅；如果太短了，那么浏览器可能渲染能力不够，达不到我们的预期。</p> <p>这里说的渲染能力，要提一下，大部分的电脑的刷新频率是<code>60Hz</code>，也就是说，电脑屏幕会在一秒内绘制60次，大约相当于每<code>1000ms / 60Hz = 16.7</code>毫秒绘制一次，由于人视觉的残留效果，所以感受不到这种变化，看起来像是连贯的。因此，对于<code>60Hz</code>的显示器来说，<code>16.7ms</code>是最佳的动画间隔，即上一帧到下一帧间隔为<code>16.7ms</code>是最好的。如果超过这个间隔，意味着在下一次刷新的时候，动画还没有执行，看上去的效果就是动画不连贯；如果低于这个时间，也没有意义，因为显示器处理的最短的间隔就是<code>16.7ms</code>，你设置成<code>10ms</code>的话，甚至可能会出现丢帧的情况。</p> <h2 id="requestanimationframe的特点"><a href="#requestanimationframe的特点" class="header-anchor">#</a> requestAnimationFrame的特点</h2> <p>基于定时器动画带来的上述问题，我们的<code>requestAnimationFrame</code>都帮忙解决了。它为什么这么厉害呢？<strong>因为它是由浏览器来决定你的动画执行时机</strong>。试问有谁比浏览器本身更能知道如何最优的执行动画呢？</p> <p><strong>由浏览器来决定，可以保证你的动画在屏幕每一次的绘制间隔中只被执行一次</strong>。也就是说，你的显示器频率是<code>60Hz</code>，那么你的动画就是<code>16.7ms</code>执行一次；如果是<code>50Hz</code>，那么就是<code>20ms</code>执行一次。免去了我们在定时器中手动执行执行间隔的烦恼，也解决了这样会带来的问题。不仅如此，它还有其他好处：</p> <ul><li>对于不可见的元素，由<code>requestAnimationFrame</code>指定的动画将会暂停</li> <li>对于处于后台（非激活）的标签页，动画也会暂停</li></ul> <p>这就大大的提升了性能，同时也提高了电池的寿命，因为少了很多无用的执行。</p> <h2 id="使用案例"><a href="#使用案例" class="header-anchor">#</a> 使用案例</h2> <p>说了这么多，这个神奇的API究竟该怎么用呢？其实很简单，你如果会用定时器的话，你也应该很快就会使用它。我们来看个例子：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>progress</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>progress</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Run<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> progress <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> val <span class="token operator">=</span> box<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      box<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>run<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>run<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>分析上面的代码，我们可以看出来，其实跟<code>setTimeout</code>差别不是很大，只不过我们没有给它传递时间间隔。我们在点击按钮的时候，利用<code>requestAnimationFrame</code>渲染了第一帧动画，这个<code>run</code>方法中，也包含着这个<code>requestAnimationFrame</code>，所以满足条件的情况下会一直执行，我们来看看效果：</p> <img alt="进度条动画" src="data:image/gif;base64,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" style="border:1px solid #eaeaea;"> <p><em>由于录制软件的原因，上面的图显示的动画图可能看上去不是很连贯，读者可以自行尝试一下。</em></p> <p>这个方法与<code>setTimeout</code>类似，返回一个数字<code>id</code>，我们可以使用这个<code>id</code>取消掉这次的动画： <code>cancelAnimationFrame(id)</code>。</p> <p>还有一个知识点，就是这个<code>requestAnimationFrame(callback)</code>中，这个<code>callback</code>回调函数，有一个默认的参数，它表示当前被<code>requestAnimationFrame</code>排序的回调函数的触发时间。我们修改一下<code>run</code>函数来打印下看看：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">ts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span>
    <span class="token keyword">let</span> val <span class="token operator">=</span> box<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      box<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>run<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>结果如图：</p> <img alt="进度条动画-打印时间" src="/assets/img/rAF-1.3578fc07.gif" style="border:1px solid #eaeaea;"> <p>我们可以将两次的打印时间计算一下，可以得出刚好是<code>16.667</code>的，豁然开朗有木有。</p> <h2 id="polyfill"><a href="#polyfill" class="header-anchor">#</a> polyfill</h2> <p>对于不支持<code>requestAnimationFrame</code>的浏览器，我们可以采用如下方法实现向下兼容：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Adapted from https://gist.github.com/paulirish/1579671 which derived from </span>
<span class="token comment">// http://paulirish.com/2011/requestanimationframe-for-smart-animating/</span>
<span class="token comment">// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating</span>

<span class="token comment">// requestAnimationFrame polyfill by Erik Möller.</span>
<span class="token comment">// Fixes from Paul Irish, Tino Zijdel, Andrew Mao, Klemen Slavič, Darius Bacon</span>

<span class="token comment">// MIT license</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Date<span class="token punctuation">.</span>now<span class="token punctuation">)</span>
    Date<span class="token punctuation">.</span><span class="token function-variable function">now</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    
    <span class="token keyword">var</span> vendors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'webkit'</span><span class="token punctuation">,</span> <span class="token string">'moz'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vendors<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>window<span class="token punctuation">.</span>requestAnimationFrame<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> vp <span class="token operator">=</span> vendors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">=</span> window<span class="token punctuation">[</span>vp<span class="token operator">+</span><span class="token string">'RequestAnimationFrame'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>cancelAnimationFrame <span class="token operator">=</span> <span class="token punctuation">(</span>window<span class="token punctuation">[</span>vp<span class="token operator">+</span><span class="token string">'CancelAnimationFrame'</span><span class="token punctuation">]</span>
                                   <span class="token operator">||</span> window<span class="token punctuation">[</span>vp<span class="token operator">+</span><span class="token string">'CancelRequestAnimationFrame'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/iP(ad|hone|od).*OS 6/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span> <span class="token comment">// iOS6 is buggy</span>
        <span class="token operator">||</span> <span class="token operator">!</span>window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span> <span class="token operator">!</span>window<span class="token punctuation">.</span>cancelAnimationFrame<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// 上一次动画的执行时间</span>
        <span class="token keyword">var</span> lastTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function-variable function">requestAnimationFrame</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 当前时间 </span>
            <span class="token keyword">var</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 比较上一次时间+16ms后，和当前时间的大小，取较大的值</span>
            <span class="token keyword">var</span> nextTime <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>lastTime <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">,</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token keyword">return</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">callback</span><span class="token punctuation">(</span>lastTime <span class="token operator">=</span> nextTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                              nextTime <span class="token operator">-</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>cancelAnimationFrame <span class="token operator">=</span> clearTimeout<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>代码来源：<a href="https://github.com/darius/requestAnimationFrame" target="_blank" rel="noopener noreferrer">https://github.com/darius/requestAnimationFrame<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h3> <ul><li><a href="https://www.cnblogs.com/onepixel/p/7078617.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/onepixel/p/7078617.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">5/23/2020, 11:25:52 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/basic/js/fetch.html" class="prev">
        fetch方法详解
      </a></span> <span class="next"><a href="/basic/js/debounce-throttle.html">
        函数节流和防抖
      </a>
      →
    </span></p></div> <div class="adsense-content" data-v-5abe131a><div style="padding: 2rem 2rem 1rem 2rem" data-v-5abe131a></div></div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.60e74413.js" defer></script><script src="/assets/js/14.69f023c0.js" defer></script><script src="/assets/js/2.720ba71e.js" defer></script><script src="/assets/js/24.7d1837f0.js" defer></script>
  </body>
</html>
