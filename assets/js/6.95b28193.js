(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{530:function(t,s,a){t.exports=a.p+"assets/img/compile_error.5c964ed5.png"},531:function(t,s,a){t.exports=a.p+"assets/img/console_info.22902bf7.png"},532:function(t,s,a){t.exports=a.p+"assets/img/console_quiet.6137d58a.png"},533:function(t,s,a){t.exports=a.p+"assets/img/console_noinfo.f9747294.png"},534:function(t,s,a){t.exports=a.p+"assets/img/inline.3d007868.png"},535:function(t,s,a){t.exports=a.p+"assets/img/public.c5c2688d.png"},536:function(t,s,a){t.exports=a.p+"assets/img/public_path.1157d8fd.png"},537:function(t,s,a){t.exports=a.p+"assets/img/public_and_path.0a62be8e.png"},538:function(t,s,a){t.exports=a.p+"assets/img/headers.ce2cc8d5.png"},629:function(t,s,a){"use strict";a.r(s);var n=a(55),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"devserver"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#devserver"}},[t._v("#")]),t._v(" DevServer")]),t._v(" "),n("p",[t._v("åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåˆ©ç”¨åˆç†çš„ "),n("code",[t._v("devServer")]),t._v(" é…ç½®ï¼Œå¯ä»¥æœ‰æ•ˆçš„æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ã€‚æœ¬èŠ‚æˆ‘ä»¬å°±æ¥çœ‹çœ‹å¦‚æœå¯¹ "),n("code",[t._v("devServer")]),t._v(" è¿›è¡Œé…ç½®ã€‚")]),t._v(" "),n("h2",{attrs:{id:"å®‰è£…"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[t._v("#")]),t._v(" å®‰è£…")]),t._v(" "),n("p",[t._v("åœ¨ä»‹ç»å…·ä½“å†…å®¹ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå®‰è£…è¿™ä¸ªåŒ…ï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm install webpack-dev-server\n")])])]),n("p",[t._v("æ¥ç€é…ç½®ä¸€ä¸ª npm script å³å¯ï¼š")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack-dev-server"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æœ€åæ‰§è¡Œ "),n("code",[t._v("npm run dev")]),t._v("ï¼Œä½ çš„åº”ç”¨å°±æˆåŠŸçš„è¿è¡Œåœ¨è¿™ä¸ªå¼€å‘æœåŠ¡å™¨ä¸Šäº†ã€‚è¿™æ—¶å€™å¦‚æœä½ æ²¡æœ‰åœ¨ webpack é…ç½®æ–‡ä»¶ä¸­é…ç½® devServer å±æ€§çš„è¯ï¼Œä¼šé‡‡ç”¨å®ƒçš„é»˜è®¤é…ç½®ï¼Œæ¯”å¦‚é»˜è®¤ç«¯å£æ˜¯ 8080 ç­‰ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç»†è¯´å®ƒçš„å„é¡¹é…ç½®ã€‚")]),t._v(" "),n("h2",{attrs:{id:"é…ç½®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®"}},[t._v("#")]),t._v(" é…ç½®")]),t._v(" "),n("h3",{attrs:{id:"port-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#port-ğŸ”‘"}},[t._v("#")]),t._v(" port ğŸ”‘")]),t._v(" "),n("p",[t._v("æœåŠ¡å™¨è¿è¡Œçš„ç«¯å£å·ï¼Œé»˜è®¤ 8080ã€‚")]),t._v(" "),n("h3",{attrs:{id:"open-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#open-ğŸ”‘"}},[t._v("#")]),t._v(" open ğŸ”‘")]),t._v(" "),n("p",[t._v("æ˜¯å¦è‡ªåŠ¨çš„æ‰“å¼€æµè§ˆå™¨ã€‚è®¾ç½®ä¸º true çš„è¯ï¼Œä¼šè‡ªåŠ¨çš„æ‰“å¼€ä½ çš„"),n("strong",[t._v("é»˜è®¤æµè§ˆå™¨")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("å¦‚æœä½ æƒ³æ‰“å¼€æŒ‡å®šæµè§ˆå™¨çš„è¯ï¼Œæ¯”å¦‚ä½ åœ¨ Mac OS ä¸Šæƒ³é»˜è®¤æ‰“å¼€ Firefoxï¼Œä½ å¯ä»¥è®¾ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  open"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Firefox'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("æ³¨æ„ï¼Œè¿™é‡Œçš„æµè§ˆå™¨åç§°éœ€è¦æ˜¯ä½ æœ¬åœ° app çš„åç§°ï¼Œæ¯”å¦‚è°·æ­Œæµè§ˆå™¨åœ¨ Mac ä¸Šå«åš Google Chromeï¼Œåœ¨ Windows ä¸Šå«åš chromeã€‚")])]),t._v(" "),n("p",[t._v("åœ¨ "),n("strong",[t._v("webpack V5")]),t._v(" ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®š open å±æ€§ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„é…ç½®å’Œ "),n("a",{attrs:{href:"https://www.npmjs.com/package/open",target:"_blank",rel:"noopener noreferrer"}},[t._v("open"),n("OutboundLink")],1),t._v(" ä¸€æ ·ï¼Œæ¯”å¦‚æˆ‘è¦é…ç½®é»˜è®¤æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œå¹¶ä¸”å¼€å¯éšç§æ¨¡å¼ï¼Œä½ å¯ä»¥è¿™ä¹ˆè®¾ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  open"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    app"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Google Chrome'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--incognito'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"openpage"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#openpage"}},[t._v("#")]),t._v(" openPage")]),t._v(" "),n("p",[t._v("å½“æ‰“å¼€æµè§ˆå™¨çš„æ—¶å€™ï¼ŒæŒ‡å®šè¦æ‰“å¼€çš„é¡µé¢ã€‚å®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°ç»„ï¼Œè¡¨ç¤ºè¦æ‰“å¼€ä¸€ç»„é¡µé¢ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  openPage"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// openPage: ['index.html', 'login.html'],")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"compress"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#compress"}},[t._v("#")]),t._v(" compress")]),t._v(" "),n("p",[t._v("å¯ç”¨ gizp å‹ç¼©ã€‚å®ƒæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  compress"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("å½“ä½ è®¾ç½®ä¸º true æ—¶ï¼Œå“åº”å¤´ä¼šå¤šå‡ºå¦‚ä¸‹å­—æ®µï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Content-Encoding: gzip\n")])])]),n("h3",{attrs:{id:"writetodisk"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#writetodisk"}},[t._v("#")]),t._v(" writeToDisk")]),t._v(" "),n("p",[t._v("æ˜¯å¦å°†æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶å†™å…¥åˆ°ç¡¬ç›˜ä¸­ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå¼€å‘æœåŠ¡å™¨ä¸‹çš„ç”Ÿæˆæ–‡ä»¶æ˜¯åœ¨å†…å­˜ä¸­çš„ï¼Œå¦‚æœä½ æƒ³åœ¨æœ¬åœ°çœ‹åˆ°å¼€å‘ç¯å¢ƒä¸‹æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶æ˜¯å•¥æ ·çš„ï¼Œå¯ä»¥å°†å®ƒè®¾ç½®ä¸º trueã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  writeToDisk"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("å®ƒä¼šå°†ç”Ÿæˆçš„æ–‡ä»¶æ”¾åœ¨ output.path ä¸­é…ç½®çš„è·¯å¾„ä¸­")]),t._v("ã€‚å®ƒçš„å€¼ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ¥æ”¶ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥å†³å®šè¿™ä¸ªæ–‡ä»¶è¦ä¸è¦å†™è¿›ç¡¬ç›˜ï¼Œä¾‹å¦‚ä¸‹é¢çš„é…ç½®ï¼Œå°±åªå°† js æ–‡ä»¶å†™è¿›ç¡¬ç›˜ä¸­ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("writeToDisk")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("filePath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js$"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"onlistening"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#onlistening"}},[t._v("#")]),t._v(" onListening")]),t._v(" "),n("p",[t._v("å½“ webpack-dev-server å¼€å§‹ç›‘å¬ç«¯å£ä¸Šçš„è¿æ¥æ—¶ï¼Œè¦æ‰§è¡Œçš„æ“ä½œã€‚ä»–æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onListening")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" port "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listeningApp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("address")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Listening on port:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"before-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#before-ğŸ”‘"}},[t._v("#")]),t._v(" before ğŸ”‘")]),t._v(" "),n("p",[t._v("å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨ webpack-dev-server æ‰€æœ‰çš„å†…ç½®ä¸­é—´ä»¶æ‰§è¡Œå‰æ‰§è¡Œã€‚æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°ä¸­åšå¾ˆå¤šæœ‰æ„æ€çš„äº‹ï¼Œæ¯”å¦‚æ•°æ® mockç­‰ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("before")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("app")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/user/1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jerry'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("ä¸Šé¢çš„ä»£ç ï¼Œç›¸å½“äº mock äº†ä¸€ä¸ª "),n("code",[t._v("/api/user/1")]),t._v(" çš„æ¥å£ï¼Œå®ƒè¿”å›ä¸€ä¸ª json å¯¹è±¡ã€‚ä½ å¯ä»¥åœ¨ä½ çš„ä¸šåŠ¡ä»£ç ä¸­è°ƒç”¨è¿™ä¸ªæ¥å£ï¼Œä¾‹å¦‚é€šè¿‡ axios è¯·æ±‚ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("axios"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/user/1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// handle res")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"after"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#after"}},[t._v("#")]),t._v(" after")]),t._v(" "),n("p",[t._v("å®ƒä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨ dev-server å†…éƒ¨ä¸­é—´ä»¶æ‰§è¡Œå®Œä¹‹åæ‰§è¡Œã€‚ä½ ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œæ•°æ® mockï¼Œè¿™é‡Œå°±ä¸å¤šè§£é‡Šäº†ã€‚å®ƒå’Œ before ç›¸å½“äºä¸¤ä¸ªé’©å­ï¼Œä¸€ä¸ªåœ¨ dev-server æ‰€æœ‰å†…ç½®ä¸­é—´ä»¶æ‰§è¡Œå‰æ‰§è¡Œï¼Œä¸€ä¸ªåœ¨ dev-server æ‰€æœ‰å†…ç½®ä¸­é—´ä»¶æ‰§è¡Œä¹‹åæ‰§è¡Œã€‚")]),t._v(" "),n("h3",{attrs:{id:"clientloglevel"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#clientloglevel"}},[t._v("#")]),t._v(" clientLogLevel")]),t._v(" "),n("p",[t._v("è®¾ç½®ä½  DevTool ä¸Šæ§åˆ¶å°çš„æ—¥å¿—çº§åˆ«ã€‚æˆ‘ä»¬åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ä¸Šï¼Œç»å¸¸ä¼šçœ‹åˆ°ä¸€äº›æ—¥å¿—ä¿¡æ¯æˆ–è€…ä¸€äº›ç¼–è¯‘è­¦å‘Šæˆ–è€…é”™è¯¯ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("[WDS] App updated. Recompiling...\n[WDS] App hot update...\n[HMR] Checking for updates on the server...\n[HMR] Nothing hot updated.\n[HMR] App is up to date.\n")])])]),n("p",[t._v("ä½ å¯ä»¥é€šè¿‡è®¾ç½®ä¸åŒçš„çº§åˆ«æ¥é™åˆ¶æ§åˆ¶å°çš„è¾“å‡ºï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  clientLogLevel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("ç±»ä¼¼çš„çº§åˆ«è¿˜æœ‰ infoï¼Œdebugï¼Œwarn ç­‰ã€‚"),n("strong",[t._v("å¦‚æœä½ å«Œæ—¥å¿—å¤ªå¤šå¾ˆçƒ¦ï¼Œé‚£ä¹ˆå¯ä»¥è®¾ç½®ä¸º "),n("code",[t._v("silent")]),t._v(" æ¥å…³æ‰æ—¥å¿—ï¼ˆä½†æ˜¯é”™è¯¯ä¿¡æ¯è¿˜æ˜¯ä¼šå±•ç¤ºï¼‰ã€‚")])]),t._v(" "),n("h3",{attrs:{id:"overlay"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#overlay"}},[t._v("#")]),t._v(" overlay")]),t._v(" "),n("p",[t._v("å½“ "),n("strong",[t._v("ç¼–è¯‘æŠ¥è­¦å‘Šæˆ–è€…å‡ºé”™")]),t._v(" çš„æ—¶å€™ï¼Œæ˜¯å¦åœ¨æµè§ˆå™¨ä¸Šæ˜¾ç¤ºä¸€ä¸ªå…¨å±çš„é®å±‚æ¥å±•ç¤ºè¿™äº›ä¿¡æ¯ã€‚æ³¨æ„è¿™é‡Œæ˜¾ç¤ºçš„ç¼–è¯‘ç›¸å…³çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ä½ çš„ä»£ç ä¸ç¬¦åˆæŸä¸ª eslint æ ‡å‡†ï¼Œæˆ–è€…ä»£ç å°‘ä¸ªæ‹¬å·ç­‰ä¼šå¼•èµ·ç¼–è¯‘å‡ºé”™çš„æ—¶å€™ã€‚æ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v("\n")])])]),n("p",[t._v("ä¼šæŠ¥é”™ï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:a(530),alt:"compile error"}})]),t._v(" "),n("p",[t._v("å½“è®¾ç½®ä¸º true çš„æ—¶å€™ï¼Œåªä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚å¦‚æœä½ æƒ³æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯å’Œé”™è¯¯ä¿¡æ¯çš„è¯ï¼Œå¯ä»¥è®¾ç½®æˆä¸€ä¸ªå¯¹è±¡ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  overlay"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    warnings"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    errors"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"quiet"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#quiet"}},[t._v("#")]),t._v(" quiet")]),t._v(" "),n("p",[t._v("æˆ‘ä»¬çŸ¥é“ï¼Œå½“è¿è¡Œ "),n("code",[t._v("npm run dev")]),t._v(" æ—¶ï¼Œå‘½ä»¤è¡Œä¼šæ‰“å°å‡ºå¾ˆå¤šæ—¥å¿—ï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:a(531),alt:"console info"}})]),t._v(" "),n("p",[t._v("ä½ å¯ä»¥é€šè¿‡è®¾ç½® quiet ä¸º true æ¥ç¦ç”¨æ‰æ—¥å¿—ã€‚"),n("strong",[t._v("æ³¨æ„ï¼Œæ­¤æ—¶è­¦å‘Šå’Œé”™è¯¯ä¿¡æ¯ä¹Ÿä¸ä¼šæ˜¾ç¤ºäº†ï¼Œæ‰€ä»¥è¿™ä¸ªå±æ€§è¿˜æ˜¯æ…ç”¨ã€‚")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  quiet"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(532),alt:"console quiet"}})]),t._v(" "),n("h3",{attrs:{id:"noinfo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#noinfo"}},[t._v("#")]),t._v(" noInfo")]),t._v(" "),n("p",[t._v("å®ƒä¹Ÿæ˜¯ä¸€ä¸ªæ—¥å¿—è¾“å‡ºçš„æ§åˆ¶ã€‚noInfo çš„ä½œç”¨æ˜¯ä¸è¾“å‡º webpack çš„æ‰“åŒ…ä¿¡æ¯ï¼Œä½†æ˜¯å¯¹äºé”™è¯¯å’Œè­¦å‘Šè¿˜æ˜¯ä¼šè¾“å‡ºçš„ã€‚å…³äºå®ƒå’Œ quiet çš„ä¼˜å…ˆçº§ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œå°è¯•ä¸€ä¸‹ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  noInfo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(533),alt:"console info noinfo"}})]),t._v(" "),n("h3",{attrs:{id:"stats"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#stats"}},[t._v("#")]),t._v(" stats")]),t._v(" "),n("p",[n("strong",[t._v("è¿™ä¸ªé€‰é¡¹å¯ä»¥è®©ä½ ç²¾ç¡®åœ°æ§åˆ¶æ˜¾ç¤ºä»€ä¹ˆ bundle ä¿¡æ¯ï¼Œå®ƒæ˜¯ç”¨æ¥æ§åˆ¶ bundle ä¿¡æ¯çš„æ˜¾ç¤ºçš„ã€‚")]),t._v(" å¦‚æœä½ ä¸æƒ³ä½¿ç”¨ noInfo å’Œ quiet æ¥é…ç½®çš„è¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ä½ å¯ä»¥å‚è€ƒ "),n("a",{attrs:{href:"https://webpack.js.org/configuration/stats/",target:"_blank",rel:"noopener noreferrer"}},[t._v("stats"),n("OutboundLink")],1),t._v(" é…ç½®æ¥æ›´è¿›ä¸€æ­¥çš„äº†è§£ã€‚æ¯”å¦‚ä½ åªæƒ³çœ‹åˆ° bundle çš„é”™è¯¯ä¿¡æ¯ï¼Œé‚£ä¹ˆå¯ä»¥é…ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  stats"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'errors-only'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("æ³¨æ„ï¼Œå®ƒåœ¨ä¸ quiet æˆ– noInfo ä¸€èµ·ä½¿ç”¨æ—¶ä¸èµ·ä½œç”¨ã€‚")])]),t._v(" "),n("h3",{attrs:{id:"inline-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inline-ğŸ”‘"}},[t._v("#")]),t._v(" inline ğŸ”‘")]),t._v(" "),n("p",[t._v("inline = true, inline æ¨¡å¼ï¼›inline = falseï¼Œiframe æ¨¡å¼ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("devServer çš„å®æ—¶é¢„è§ˆåŠŸèƒ½ï¼Œå®é™…ä¸Šä¾é çš„æ˜¯ä¸€ä¸ªæ³¨å…¥è¿›é¡µé¢çš„ä»£ç†å®¢æˆ·ç«¯ä¸ devServer ä¹‹é—´çš„é€šä¿¡æ¥å®ç°çš„ã€‚å¦‚æœä½ å¼€å¯äº† inline æ¨¡å¼ï¼Œè¿™ä¸ªè„šæœ¬å°±ä¼šæ³¨å…¥è¿›ä½ çš„ bundle æ¥è´Ÿè´£ä¸ devServer é€šä¿¡ï¼Œæ„å»ºä¿¡æ¯ä¹Ÿä¼šå®æ—¶çš„æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸Šã€‚")])]),t._v(" "),n("p",[t._v("ç›¸åçš„ï¼Œå¦‚æœä½ è®¾ç½®æˆ falseï¼Œé‚£ä¹ˆ devServer å°†æ— æ³•ç›´æ¥æ§åˆ¶ä½ æ­£åœ¨å¼€å‘çš„ç½‘é¡µï¼Œè¿™æ—¶å€™å®ƒä¼šåœ¨ä½ çš„é¡µé¢ä¸ŠåŠ ä¸€ä¸ª iframeï¼Œé€šè¿‡ iframe çš„åˆ·æ–°æ¥å®ç°å®æ—¶é¢„è§ˆçš„æ•ˆæœã€‚ä¸è¿‡è¿™æ—¶å€™ä½ è¦é€šè¿‡ http://localhost:8080/webpack-dev-server/ å»è®¿é—®ä½ çš„åº”ç”¨ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(534),alt:"inline"}})]),t._v(" "),n("p",[n("strong",[t._v("æ¨èé‡‡ç”¨é»˜è®¤å€¼ï¼Œå³ä½¿ç”¨ inline æ¨¡å¼æ¥å®æ—¶é¢„è§ˆã€‚")])]),t._v(" "),n("h3",{attrs:{id:"public"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#public"}},[t._v("#")]),t._v(" public")]),t._v(" "),n("p",[t._v("ä¸€èˆ¬ç”¨ä¸åˆ°ã€‚ä½†æ˜¯å¦‚æœä½ çš„æœ¬åœ°å¼€å¯äº†ä»£ç†ï¼Œå°†ä½ çš„æœåŠ¡è½¬å‘äº†å¦ä¸€ä¸ªåœ°å€ï¼Œé‚£ä¹ˆè¿™ä¸ªé…ç½®é¡¹å°±èµ·ä½œç”¨äº†ã€‚æ¯”å¦‚ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mysite.com:9999'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("é»˜è®¤æ‰“å¼€çš„åœ°å€å°±æ˜¯ mysite.com:9999 äº†ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(535),alt:"public"}})]),t._v(" "),n("h3",{attrs:{id:"publicpath-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#publicpath-ğŸ”‘"}},[t._v("#")]),t._v(" publicPath ğŸ”‘")]),t._v(" "),n("p",[t._v("è¿™ä¸ªæ˜¯ç”¨æ¥é…ç½®ä½ æ‰“åŒ…åçš„æ–‡ä»¶è·¯å¾„çš„ã€‚æ¯”å¦‚ä½ çš„æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:8080 ä¸Šï¼Œç„¶å "),n("code",[t._v("output.filename")]),t._v(" è®¾ç½®ä¸º bundle.jsã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ"),n("code",[t._v("devServer.publicPath")]),t._v(" ä¸º '/'ï¼Œæ‰€ä»¥ä½ å¯ä»¥é€šè¿‡ http://localhost:8080/bundle.js æ¥è®¿é—®ä½ æ‰“åŒ…åçš„æ–‡ä»¶ã€‚")]),t._v(" "),n("p",[t._v("ä½ ä¹Ÿå¯ä»¥è‡ªå·±è®¾ç½®å…·ä½“çš„è·¯å¾„ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  publicPath"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/assets/'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// publicPath: ''")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("å¯ä»¥çœ‹ä¸€ä¸‹æ—¥å¿—ï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:a(536),alt:"public path"}})]),t._v(" "),n("p",[t._v("è¿™æ—¶å€™ä½ åº”è¯¥é€šè¿‡ http://localhost:8080/assets/index.html æ¥è®¿é—®é¡µé¢ï¼Œä½ çš„ bundle.js æ–‡ä»¶ä¹Ÿæ˜¯åœ¨ http://localhost:8080/assets/ è¿™ä¸ªç›®å½•ä¸‹ã€‚")]),t._v(" "),n("p",[t._v("æˆ‘ä»¬å¯ä»¥å°† public å’Œ publicPath ç»“åˆèµ·æ¥é…ç½®ï¼Œä¾‹å¦‚ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  port"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8888")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost:8888/assets'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  publicPath"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/assets/'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(537),alt:"public and public path"}})]),t._v(" "),n("p",[t._v("æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼š")]),t._v(" "),n("ol",[n("li",[t._v("publicPath çš„å€¼æ°¸è¿œè¦ä»¥ / å¼€å¤´ï¼Œä»¥ / ç»“å°¾")]),t._v(" "),n("li",[n("strong",[t._v("publicPath çš„å€¼æœ€å¥½å’Œ output.path ä¿æŒä¸€è‡´")])])]),t._v(" "),n("h3",{attrs:{id:"https"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#https"}},[t._v("#")]),t._v(" https")]),t._v(" "),n("p",[t._v("è®¾ç½®ä¸º true è¡¨ç¤ºå¼€å¯ httpsã€‚ä½ ä¹Ÿå¯ä»¥æŒ‡å®šè‡ªå·±çš„è¯ä¹¦ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  https"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  key"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/server.key'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  cert"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/server.crt'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ca"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/ca.pem'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"http2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http2"}},[t._v("#")]),t._v(" http2")]),t._v(" "),n("p",[t._v("å®ƒæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å¼€å¯ http2 ä¼ è¾“ï¼ˆåŸºäºspdyï¼‰ã€‚"),n("strong",[t._v("è¿™ä¸ªå±æ€§åœ¨ node v10+ ä¸Šæ— æ•ˆã€‚")])]),t._v(" "),n("h3",{attrs:{id:"index"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#index"}},[t._v("#")]),t._v(" index")]),t._v(" "),n("p",[t._v("æ‰“å¼€çš„ index æ–‡ä»¶çš„åç§°ã€‚é»˜è®¤æ˜¯ index.htmlã€‚å½“ä½ é»˜è®¤çš„æ–‡ä»¶åä¸æ˜¯ index.html çš„æ—¶å€™ï¼ŒæŒ‡å®šå®ƒä¼šå¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚ç»“åˆ HtmlWebpackPlugin æ¥é…ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HtmlWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DevServer Test'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello.html'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    index"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello.html'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("è¿™æ ·çš„é…ç½®èƒ½ä¿è¯æˆ‘ä»¬æ­£ç¡®çš„æ‰“å¼€ index æ–‡ä»¶ã€‚")]),t._v(" "),n("h3",{attrs:{id:"allowedhosts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#allowedhosts"}},[t._v("#")]),t._v(" allowedHosts")]),t._v(" "),n("p",[t._v("é…ç½®å“ªäº›ä¸»æœºè®¿é—®æˆ‘ä»¬çš„æœåŠ¡ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  allowedHosts"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'baidu.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.hello.com'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"disablehostcheck"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#disablehostcheck"}},[t._v("#")]),t._v(" disableHostCheck")]),t._v(" "),n("p",[t._v("è®¾ç½®ä¸º true çš„è¯è¡¨ç¤ºç¦ç”¨ä¸»æœºæ£€æŸ¥ï¼Œè¿™æ—¶å€™ä½ å¯ä»¥æ¥æ”¶æ¥è‡ªä»»æ„ä¸»æœºçš„è¯·æ±‚ã€‚"),n("strong",[t._v("éå¸¸ä¸æ¨èè®¾ç½®ä¸º trueï¼Œå› ä¸ºè¿™å®¹æ˜“è®©ä½ æ”¶åˆ° DNS é‡ç»‘å®šæ”»å‡»ã€‚")])]),t._v(" "),n("h3",{attrs:{id:"host-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#host-ğŸ”‘"}},[t._v("#")]),t._v(" host ğŸ”‘")]),t._v(" "),n("p",[t._v("æŒ‡å®šè¦ä½¿ç”¨çš„ä¸»æœºã€‚")]),t._v(" "),n("p",[t._v("è¿™ä¸ªé…ç½®éå¸¸æœ‰ç”¨ï¼Œé¡¹ç›®å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸¸å¸¸é‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œä½ æœ¬åœ°æ”¹äº†ä¸€ä¸ªä¸œè¥¿ï¼Œè¿˜æ²¡ä¸Šæµ‹è¯•ç¯å¢ƒï¼Œæƒ³è®©åˆ«äººå…ˆçœ‹çœ‹æ•ˆæœï¼Œä½ å°±éœ€è¦åˆ«äººè®¿é—®ä½ ç”µè„‘ä¸Šè¿è¡Œçš„åº”ç”¨ï¼Œè¿™æ—¶ä½ éœ€è¦é…ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  host"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.0.0.0'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("ä½ å°†ä½ çš„ ip å‘ç»™ä½ çš„åŒäº‹ï¼Œå®ƒå°±å¯ä»¥é€šè¿‡ ip:port/path/to/app æ¥è®¿é—®ä½ ç”µè„‘ä¸Šçš„æœåŠ¡äº†ã€‚è¿™æ—¶å€™ä½ çš„ disableHostCheck éœ€è¦è®¾ç½®ä¸º trueï¼Œå› ä¸ºåˆ«äººæ˜¯é€šè¿‡ä½ çš„ ip æ¥è®¿é—®çš„ã€‚")]),t._v(" "),n("h3",{attrs:{id:"uselocalip"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uselocalip"}},[t._v("#")]),t._v(" useLocalIp")]),t._v(" "),n("p",[t._v("æ˜¯å¦ä½¿ç”¨æœ¬åœ° ip æ‰“å¼€æµè§ˆå™¨ã€‚é»˜è®¤æ˜¯ falseã€‚")]),t._v(" "),n("p",[t._v("è¦æƒ³è¿™ä¸ªå±æ€§èµ·ä½œç”¨ï¼Œä½ çš„ host å±æ€§è¦ä¹ˆæ˜¯æœ¬åœ°çš„ ipï¼Œè¦ä¹ˆæ˜¯ 0.0.0.0ã€‚è¿™ä¸ªå±æ€§å¾ˆå°‘ç”¨åˆ°ï¼Œå®åœ¨è¦é…ç½®çš„è¯ï¼Œå‚è€ƒå¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  host"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.0.0.0'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  useLocalIp"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"hot-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hot-ğŸ”‘"}},[t._v("#")]),t._v(" hot ğŸ”‘")]),t._v(" "),n("p",[t._v("å¼€å¯çƒ­æ¨¡å—æ›´æ–°ï¼ˆHMRï¼‰")]),t._v(" "),n("h3",{attrs:{id:"hotonly-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hotonly-ğŸ”‘"}},[t._v("#")]),t._v(" hotOnly ğŸ”‘")]),t._v(" "),n("p",[t._v("å½“æ„å»ºå¤±è´¥çš„æ—¶å€™ï¼Œä¹Ÿä¸è¦åˆ·æ–°æµè§ˆå™¨ï¼Œä¾æ—§ä½¿ç”¨ HMRã€‚é€šå¸¸æˆ‘ä»¬ä¸€èµ·è®¾ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  hot"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  hotOnly"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"contentbase-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#contentbase-ğŸ”‘"}},[t._v("#")]),t._v(" contentBase ğŸ”‘")]),t._v(" "),n("p",[t._v("æˆ‘ä»¬çŸ¥é“ï¼ŒdevServer é€šè¿‡ HTTP æœåŠ¡æš´éœ²å‡ºæ¥çš„æ–‡ä»¶åˆ†ä¸ºä¸¤ç±»ã€‚ä¸€ç±»æ˜¯ webpack æ‰“åŒ…å‡ºçš„æ–‡ä»¶ï¼Œä¸€ç±»æ˜¯æœ¬åœ°çš„é™æ€æ–‡ä»¶ã€‚å‰è€…æˆ‘ä»¬å¯ä»¥é€šè¿‡ publicPath æ¥æŒ‡å®šæœåŠ¡çš„åœ°å€ï¼Œåè€…å°±è¦é æˆ‘ä»¬çš„ contentBase æ¥æŒ‡å®šäº†ã€‚æ¯”å¦‚ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  contentBase"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("è¿™å°±æŠŠé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ public æ–‡ä»¶å¤¹ä½œä¸ºæœåŠ¡æ–‡ä»¶çš„è·¯å¾„äº†ã€‚å¦‚æœè¿™æ—¶å€™ä½ é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ª public æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹é‡Œæœ‰ä¸€ä¸ª hello.txt æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥é€šè¿‡ http://localhost:8091/hello.txt æ¥è®¿é—®è¿™ä¸ªæ–‡ä»¶äº†ã€‚")]),t._v(" "),n("p",[t._v("å¦‚æœä½ æœ‰å¤šä¸ªæ–‡ä»¶å¤¹éœ€è¦æŒ‡å®šï¼Œä¹Ÿå¯ä»¥é…ç½®æˆæ•°ç»„ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  contentBase"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'assets'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"contentbasepublicpath-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#contentbasepublicpath-ğŸ”‘"}},[t._v("#")]),t._v(" contentBasePublicPath ğŸ”‘")]),t._v(" "),n("p",[n("strong",[t._v("è¿™æ˜¯ webpack V5 æ–°å¢çš„ç‰¹æ€§ã€‚")]),t._v(" å®ƒç»™ä½ çš„ contentBase é‡Œé¢æœåŠ¡çš„å†…å®¹åŠ ä¸Šè®¿é—®å‰ç¼€ã€‚æ¯”å¦‚ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  contentBase"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  contentBasePublicPath"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/ppp'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("ä½ åœ¨æµè§ˆå™¨çš„è®¿é—®è·¯å¾„å‰é¢å°±è¦åŠ ä¸Š ppp å‰ç¼€ï¼šhttp://localhost:8091/ppp/hello.txtã€‚å¦‚æœä½  contentBase é…ç½®çš„æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆä½ è¿™ä¸ªä¹Ÿè¦é…ç½®æˆå¯¹åº”çš„æ•°ç»„ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  contentBase"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'assets'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  contentBasePublicPath"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/public'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/assets'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"watchcontentbase"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#watchcontentbase"}},[t._v("#")]),t._v(" watchContentBase")]),t._v(" "),n("p",[t._v("å‘Šè¯‰ dev-server å»ç›‘å¬ devServer.contentBase è·¯å¾„ä¸‹çš„æ–‡ä»¶ã€‚å¦‚æœè®¾ç½®ä¸ºå®ƒ true çš„è¯ï¼Œé‚£ä¹ˆè¯¥ç›®å½•ä¸‹ä»»æ„æ–‡ä»¶çš„ä¿®æ”¹éƒ½ä¼šå‡ºå‘é¡µé¢çš„åˆ·æ–°ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  contentBase"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  watchContentBase"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("ï¼ˆæˆ‘ç»“åˆä¸Šé¢çš„ hello.txt è¯•äº†ï¼Œæˆ‘ä¿®æ”¹ hello.txt æ–‡ä»¶åï¼Œé¡µé¢å¹¶æ²¡æœ‰åˆ·æ–°ã€‚ä¸çŸ¥é“æ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Œå¾…ç ”ç©¶ã€‚ï¼‰")]),t._v(" "),n("h3",{attrs:{id:"watchoptions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#watchoptions"}},[t._v("#")]),t._v(" watchOptions")]),t._v(" "),n("p",[t._v("æ–‡ä»¶ç›‘å¬ç›¸å…³çš„æ§åˆ¶ã€‚å¯ä»¥å‚è€ƒ watchOptions ç« èŠ‚ï¼Œä»–ä»¬çš„é…ç½®æ˜¯ä¸€æ ·çš„ã€‚")]),t._v(" "),n("h3",{attrs:{id:"headers"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#headers"}},[t._v("#")]),t._v(" headers")]),t._v(" "),n("p",[t._v("ç»™æ‰€æœ‰çš„å“åº”æ·»åŠ å“åº”å¤´ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  headers"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'X-header'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This is custom header'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("ç»“æœï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:a(538),alt:"headers"}})]),t._v(" "),n("h3",{attrs:{id:"livereload"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#livereload"}},[t._v("#")]),t._v(" liveReload")]),t._v(" "),n("p",[t._v("æ§åˆ¶æµè§ˆå™¨æ˜¯å¦å®æ—¶åˆ·æ–°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ç›‘æµ‹åˆ°æ–‡ä»¶æ”¹å˜æ—¶ï¼Œdev-server ä¼šåˆ·æ–°é¡µé¢ã€‚è¦æƒ³ liveReload ç”Ÿæ•ˆçš„è¯ï¼ŒdevServer.hot è¦ä¸º falseï¼Œæˆ–è€… devServer.watchContentBase ä¸º trueã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  liveReload"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"socket-ç›¸å…³"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#socket-ç›¸å…³"}},[t._v("#")]),t._v(" socket ç›¸å…³")]),t._v(" "),n("p",[t._v("è¿™ä¸ªæˆ‘ä»¬å‡ ä¹å¾ˆå°‘å»é…ç½®ï¼Œåšä¸€ä¸ªäº†è§£å³å¯ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  socket"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socket'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¦ç›‘å¬çš„ Unix socket")]),t._v("\n  sockHost"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mysocket.test'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘Šè¯‰è¿æ¥åˆ° devServer çš„å®¢æˆ·ç«¯ä½¿ç”¨æä¾›çš„ socket ä¸»æœº")]),t._v("\n  sockPath"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/mysocket'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¿é—® socket çš„è·¯å¾„")]),t._v("\n  sockPort"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘Šè¯‰å®¢æˆ·ç«¯ä½¿ç”¨è¿™ä¸ªç«¯å£å»è¿æ¥ devServer")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"historyapifallback-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#historyapifallback-ğŸ”‘"}},[t._v("#")]),t._v(" historyApiFallback ğŸ”‘")]),t._v(" "),n("p",[t._v("å½“ä½¿ç”¨ HTML5 History API çš„æ—¶å€™ï¼Œindex.html è¿˜è¦æ‰¿è½½ç€ 404 çš„è¯·æ±‚ã€‚é€šè¿‡è®¾ç½®è¿™ä¸ªå±æ€§ä¸º true å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  historyApiFallback"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("è¿™æ—¶å€™ï¼Œä½ è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„è·¯å¾„ï¼Œä¹Ÿä¼šå»è¯·æ±‚ index.html æ–‡ä»¶çš„å†…å®¹ã€‚")]),t._v(" "),n("p",[t._v("è¿™ä¸ªå±æ€§è¿˜æ”¯æŒæ›´é«˜çº§çš„é…ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  historyApiFallback"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rewrites"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^\\/$/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/views/landing.html'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^\\/subpage/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/views/subpage.html'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/./")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/views/404.html'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æœ‰å…´è¶£çš„è¯å¯ä»¥è‡ªå·±å°è¯•ä¸€ä¸‹ã€‚")]),t._v(" "),n("h3",{attrs:{id:"proxy-ğŸ”‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#proxy-ğŸ”‘"}},[t._v("#")]),t._v(" proxy ğŸ”‘")]),t._v(" "),n("p",[t._v("æƒ³å¿…è¿™ä¸ªå±æ€§å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰ï¼Œå¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸ä¼šéœ€è¦é…ç½®å®ƒæ¥å®ç°è·¨åŸŸã€‚è¯¦ç»†çš„é…ç½®å¯ä»¥å‚è€ƒ "),n("a",{attrs:{href:"https://github.com/chimurai/http-proxy-middleware#options",target:"_blank",rel:"noopener noreferrer"}},[t._v("http-proxy-middleware"),n("OutboundLink")],1),t._v(" è¿™ä¸ªåŒ…ï¼Œè¿™é‡Œæˆ‘ä»¬ä»‹ç»å¸¸è§çš„å‡ ç§ã€‚")]),t._v(" "),n("p",[t._v("å½“ä½ çš„åç«¯éƒ¨ç½²åœ¨ 35.123.18.192 ä¸Šçš„æ—¶å€™ï¼Œä½ å¯ä»¥è¿™ä¹ˆé…ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  proxy"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://35.123.18.192'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("è¿™æ—¶å€™ï¼Œå¦‚æœåœ¨ä»£ç ä¸­è¯·æ±‚ /api/users ï¼Œè¿™ä¸ªè¯·æ±‚ä¼šè¢«ä»£ç†å‘é€åˆ° http://35.123.18.192/api/usersã€‚")]),t._v(" "),n("p",[t._v("å½“ä½ ä¸æƒ³è¦å‘é€ /api è¿™ä¸ªå‰ç¼€çš„æ—¶å€™ï¼Œä½ å¯ä»¥ä½¿ç”¨ pathRewrite æ¥æ”¹æ‰å®ƒï¼Œè¿™æ—¶å€™è¦å°†è·¯å¾„å¯¹åº”çš„å€¼è®¾ç½®æˆå¯¹è±¡ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  proxy"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        target"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://35.123.18.192'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        pathRewrite"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^/api'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("è¿™é‡Œé…ç½®çš„ pathRewrite è¡¨ç¤ºï¼Œå¦‚æœä¸€ä¸ªè¯·æ±‚è·¯å¾„ä»¥ /api å¼€å¤´ï¼Œç»Ÿä¸€çš„å°† /api å»æ‰ï¼Œä¹Ÿå°±æ˜¯è¯´ "),n("code",[t._v("axios.get('/api/users/')")]),t._v(" å®é™…ä¸Šä¼šå‘é€ï¼š"),n("code",[t._v("http://35.123.18.192/users")]),t._v(" è¿™ä¸ªè¯·æ±‚ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸ª pathRewrite åšä¸€äº›æœ‰æ„æ€çš„äº‹ï¼Œæ¯”å¦‚è¿™ä¸ªåœºæ™¯ï¼šåç«¯æŸä¸ªæ¥å£æ²¡å†™å®Œï¼Œå®ƒè¦ç»™ä½ ä¸€ä¸ª mock æ¥å£ï¼Œä½ å°±å¯ä»¥åœ¨è¿™é‡Œé…ç½®é‡å†™è§„åˆ™äº†ï¼Œæ¯”å¦‚ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("pathRewrite"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/users'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/fake-users'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("å¦‚æœä½ æƒ³ä»£ç†å¤šä¸ªè·¯å¾„åˆ°åŒä¸€ä¸ªç›®æ ‡æœåŠ¡å™¨ä¸Šï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ context å±æ€§æ¥é…ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  proxy"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    context"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/auth'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    target"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:3000'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    context"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/v2/auth'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/v2/api'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    target"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:4000'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ— æ•ˆè¯ä¹¦è¿è¡Œåœ¨HTTPSä¸Šçš„åç«¯æœåŠ¡å™¨å°†ä¸è¢«æ¥å—ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥åƒè¿™æ ·ä¿®æ”¹é…ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  proxy"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      target"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://xxx.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      secure"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("å¦‚æœä½ æƒ³é€‰æ‹©æ€§çš„ä»£ç†ä¸€äº›è¯·æ±‚ï¼Œæ¯”å¦‚é’ˆå¯¹ API è¯·æ±‚èµ°ä»£ç†ï¼Œé’ˆå¯¹ html é¡µé¢è¯·æ±‚ä¸èµ°ä»£ç†ï¼Œä½ å¯ä»¥ä½¿ç”¨ bypass æ¥æ§åˆ¶è¿™ç§è¡Œä¸ºï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bypass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" proxy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Skipping proxy for browser request.'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("bypass æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("å¦‚æœè¿”å› null æˆ–è€… undefinedï¼Œä½¿ç”¨ä»£ç†æ¥å¤„ç†è¯·æ±‚ï¼›")]),t._v(" "),n("li",[t._v("å¦‚æœè¿”å› falseï¼Œé‚£ä¹ˆè¿™ä¸ªè¯·æ±‚ç»“æœä¸º 404")]),t._v(" "),n("li",[t._v("è¿”å›ä¸€ä¸ªè·¯å¾„ï¼Œå°±å»è¯·æ±‚è¿™ä¸ªè·¯å¾„çš„èµ„æºï¼Œä¸èµ°ä»£ç†")])]),t._v(" "),n("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŸå§‹çš„ Host å¤´æ˜¯è¢«ä¸€ç›´ä¿ç•™çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»£ç†è¿‡å»çš„è¯·æ±‚å¤´ä¸­çš„ Host çš„å€¼æ˜¯æœ€åŸå§‹çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘é…ç½®äº† proxy è®¿é—® 35.123.23.24 æœåŠ¡å™¨ã€‚åº”ç”¨åœ¨æœ¬åœ°è¿è¡Œåï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒdevServer å‘é€åˆ°è¿œç¨‹æœåŠ¡å™¨çš„è¯·æ±‚å¤´çš„ Host å­—æ®µï¼Œæ˜¯ localhostï¼Œä½†æ˜¯è¿™ä¸ªå¯¹äºè¿œç«¯æœåŠ¡å™¨æ¥è¯´ï¼Œå¯èƒ½ä¼šè¢«æ‹’ç»ã€‚æ‰€ä»¥æœ‰çš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥å°† changeOrigin è®¾ç½®ä¸º true æ¥ä¿®æ”¹è¿™ç§é»˜è®¤è¡Œä¸ºã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  proxy"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      target"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://35.123.23.23'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      changeOrigin"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);