(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{411:function(t,s,a){t.exports=a.p+"assets/img/shadow-dom-3.8898432a.png"},484:function(t,s,a){t.exports=a.p+"assets/img/shadow-dom.9ef9232d.png"},485:function(t,s){t.exports="data:image/png;base64,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"},486:function(t,s){t.exports="data:image/png;base64,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"},487:function(t,s,a){t.exports=a.p+"assets/img/shadow-dom-4.057e189b.png"},584:function(t,s,a){"use strict";a.r(s);var n=a(55),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"web-component"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web-component"}},[t._v("#")]),t._v(" Web Component")]),t._v(" "),n("h2",{attrs:{id:"什么是-web-component"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是-web-component"}},[t._v("#")]),t._v(" 什么是 Web Component")]),t._v(" "),n("p",[n("code",[t._v("Web Component")]),t._v("，翻译过来就是web组件，它实际上是"),n("strong",[t._v("一套")]),t._v("让你可以创建可重用元素的技术。它将一个或多个元素封装到一起成为一个“新的”元素，这个新元素的功能、样式都与其他元素相互独立，互不干扰。")]),t._v(" "),n("p",[t._v("这里说的"),n("strong",[t._v("一套")]),t._v("技术主要是以下三个：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("Custom Elements")]),t._v(" 自定义元素。一组js的API，可以让你定义自定义元素，在界面上使用。")]),t._v(" "),n("li",[n("code",[t._v("Shadow DOM")]),t._v(" 影子DOM。 一组js的API，可以将封装好的“影子”DOM添加到元素上。这个“影子”DOM是独立于主文档DOM渲染的，所以你不用担心内部的脚本或者样式会与外部的元素冲突。")]),t._v(" "),n("li",[n("code",[t._v("HTML Templates")]),t._v(" HTML模板。"),n("code",[t._v("<template>")]),t._v("和"),n("code",[t._v("<slot>")]),t._v("元素可以让你编写不需要渲染到页面上的标记模板，它们可以作为自定义元素被重用很多次。")])]),t._v(" "),n("p",[t._v("一个简单实现web组件的方法通常如下：")]),t._v(" "),n("ol",[n("li",[t._v("用一个类或者函数来定义你的web组件")]),t._v(" "),n("li",[t._v("使用"),n("code",[t._v("CustomElementRegistry.define()")]),t._v("来注册你的自定义元素，给它传递一个元素名称，一个上面定义的类名或者函数名，还有一个可选的继承元素。")]),t._v(" "),n("li",[t._v("如有必要的话，使用"),n("code",[t._v("Element.attachShadow()")]),t._v("方法把"),n("code",[t._v("shadom dom")]),t._v("添加到自定义元素上。")]),t._v(" "),n("li",[t._v("如有必要的话，使用"),n("code",[t._v("<template>")]),t._v("和"),n("code",[t._v("<slot>")]),t._v("定义HTML模板。")]),t._v(" "),n("li",[t._v("在页面上使用你新建的自定义元素吧～")])]),t._v(" "),n("h2",{attrs:{id:"创建-web-component"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建-web-component"}},[t._v("#")]),t._v(" 创建 Web Component")]),t._v(" "),n("h3",{attrs:{id:"几个概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#几个概念"}},[t._v("#")]),t._v(" 几个概念")]),t._v(" "),n("p",[t._v("在学习如何创建组件之前，我们要了解几个相关的术语：")]),t._v(" "),n("ol",[n("li",[n("code",[t._v("Shadow host")]),t._v(" 一个常规DOM节点，Shadow DOM 会被附加到这个节点上")]),t._v(" "),n("li",[n("code",[t._v("Shadow tree")]),t._v(" Shadow DOM内部的DOM树")]),t._v(" "),n("li",[n("code",[t._v("Shadow boundary")]),t._v(" Shadow DOM结束的地方，也是常规 DOM开始的地方，一个概念上的边界")]),t._v(" "),n("li",[n("code",[t._v("Shadow root")]),t._v(" Shadow tree的根节点")])]),t._v(" "),n("p",[t._v("我们来看一下MDN上的一张图了解一下"),n("code",[t._v("Shadow DOM")]),t._v("与常规DOM的关系：")]),t._v(" "),n("img",{attrs:{src:a(484),alt:"Shadow DOM pic"}}),t._v(" "),n("p",[t._v("注意，你可以使用操作常规DOM的方法来操作 "),n("code",[t._v("Shadow DOM")]),t._v("，比如添加子节点、设置属性，以及为节点添加自己的样式（例如通过 element.style 属性），或者为整个 Shadow DOM 添加样式（例如在 "),n("code",[t._v("<style>")]),t._v(" 元素内添加样式）。不同的是，"),n("code",[t._v("Shadow DOM")]),t._v(" 内部的元素始终不会影响到它外部的元素（除了 "),n("code",[t._v(":focus-within")]),t._v("），这为封装提供了便利。")]),t._v(" "),n("p",[n("code",[t._v("Shadow DOM")]),t._v(" 并不是一项新技术，在过去的很长一段时间里，浏览器用它来封装一些元素的内部结构。比如H5中的 "),n("code",[t._v("<video>")]),t._v(" 元素，你所能看到的只是一个 "),n("code",[t._v("<video>")]),t._v(" 标签，实际上在它的 "),n("code",[t._v("Shadow DOM")]),t._v(" 中，包含来一系列的按钮和其他控制器。"),n("code",[t._v("Shadow DOM")]),t._v(" 标准允许你为你自己的元素"),n("code",[t._v("（custom element）")]),t._v("维护一组 "),n("code",[t._v("Shadow DOM")]),t._v("。")]),t._v(" "),n("p",[t._v("接下来我们要创建一个简单的组件，它是一个带颜色的文本，我们可以像这样来使用它：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("colored-text")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("text")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("hello shadow dom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("green"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("colored-text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h3",{attrs:{id:"创建组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建组件"}},[t._v("#")]),t._v(" 创建组件")]),t._v(" "),n("p",[t._v("我们使用ES6的类来定义这个组件，让它继承"),n("code",[t._v("HTMLElement")]),t._v("类")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ColoredText")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HTMLElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("一个雏形就出现了，但是很显然，这个组件貌似什么也做不了，我们给它添加相应的功能。我们在"),n("code",[t._v("Shadom DOM")]),t._v("里可以像平常一样使用我们的DOM API，所以，我们可以这么来实现：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ColoredText")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HTMLElement")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建 shadow root，关于 mode 我们后面会讲到")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" root "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachShadow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"open"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建内部 DOM 树")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" box "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'span'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取 text 属性的值，没提供的话显示'default text'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" text "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default text'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取 color 属性的值，没提供的话默认红色")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" color "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'color'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'red'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置文字")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerText "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置颜色")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" color\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 把内部的DOM树（本例就是一个span元素）添加到 Shadow Root上")]),t._v("\n      root"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("我们单纯的组件到此就定义完成了，要把它变成自定义元素，还需要接下来的操作：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("customElements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'colored-text'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ColoredText"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("我们可以使用它啦！什么都不传的话，它会采用默认值，来看看：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("colored-text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("colored-text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v('效果应该是红色的"default text"的文本：')]),t._v(" "),n("img",{attrs:{src:a(485),alt:"Shadow DOM demo1"}}),t._v(" "),n("p",[t._v("给它传递一些参数试试：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("colored-text")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("text")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hello shadow dom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("green"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("colored-text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("效果：\n"),n("img",{attrs:{src:a(486),alt:"Shadow DOM demo2"}})]),t._v(" "),n("p",[t._v("Nice！接下来我们可以慢慢的扩充这个例子的功能了。这个文字看上去太小了，我们给他放大一点吧。")]),t._v(" "),n("h3",{attrs:{id:"添加样式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加样式"}},[t._v("#")]),t._v(" 添加样式")]),t._v(" "),n("p",[t._v("还是一样的，跟常规DOM没什么区别，平平无奇。我们采用两种方法来添加两种样式吧：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ColoredText")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HTMLElement")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建 shadow root，关于 mode 我们后面会讲到")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" root "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachShadow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"open"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建内部 DOM 树")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" box "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'span'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取 text 属性的值，没提供的话显示'default text'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" text "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default text'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取 color 属性的值，没提供的话默认红色")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" color "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'color'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'red'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 style 标签 来修改字体大小")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" style "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n        .big-font{\n          font-size: 26px;\n        }\n      ")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置文字")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerText "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置颜色")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" color\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用 style 的方式添加字体的 weight")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontWeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bold'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加类")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'class'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'big-font'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一定要把这style标签添加到box上，不然上面的不会生效")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 把内部的DOM树（本例就是一个span元素）添加到 Shadow Root上")]),t._v("\n      root"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("此时我们的文字应该明显变大变粗了，来看看效果：")]),t._v(" "),n("img",{attrs:{src:a(411),alt:"Shadow DOM demo3"}}),t._v(" "),n("p",[t._v("当然，你肯定不会喜欢这种糟糕的代码，把结构与样式揉杂在一起。我们可以使用外部样式表，通过创建"),n("code",[t._v("link")]),t._v("标签把外部样式引进来，再直接给对应的元素设置样式类就行了：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" linkElem "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'link'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlinkElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stylesheet'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlinkElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'href'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style.css'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一定要添加到shadow dom中！！否则不会生效。")]),t._v("\nroot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("linkElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("自己尝试一下吧！")]),t._v(" "),n("h3",{attrs:{id:"添加事件处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加事件处理"}},[t._v("#")]),t._v(" 添加事件处理")]),t._v(" "),n("p",[t._v("一样的平平无奇...")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加事件处理")]),t._v("\nbox"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click me'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//....")]),t._v("\n")])])]),n("h3",{attrs:{id:"使用-template-来封装我们的组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-template-来封装我们的组件"}},[t._v("#")]),t._v(" 使用 Template 来封装我们的组件")]),t._v(" "),n("p",[t._v("如果你有过vue项目的开发经验，你可能会有这样的疑问，为什么不可以把结构啊、样式啊之类的单独定义呢？就像vue单文件组件的"),n("code",[t._v("<template>")]),t._v("一样多么清晰明了啊！嘿！你还别说，还真有，而且，vue还是受到这个启发的。我们来用"),n("code",[t._v("template")]),t._v("重写上面的例子：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("colored-text")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("text")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hello shadow dom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("green"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("colored-text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("color-text-tpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token style"}},[n("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n      "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".big-font")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 26px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" bold"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    ")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ColoredText")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HTMLElement")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建 shadow root，关于 mode 我们后面会讲到")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" root "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachShadow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"open"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取 template 元素")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" template "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'color-text-tpl'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个 templateContent 是一个 DocumentFragment")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" templateContent "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" template"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建内部 DOM 树")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" box "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'span'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取 text 属性的值，没提供的话显示'default text'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" text "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default text'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取 color 属性的值，没提供的话默认红色")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" color "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'color'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'red'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置文字")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerText "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置颜色")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" color\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 直接使用 <style> 标签里的样式")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'class'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'big-font'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加事件处理")]),t._v("\n      box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click me'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 把 box 添加到 template 中")]),t._v("\n      templateContent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 克隆 template 后，追加到 root 上")]),t._v("\n      root"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("templateContent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cloneNode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("我们在"),n("code",[t._v("<template>")]),t._v("中定义样式，在自定义元素中直接使用这个样式。我们创建的"),n("code",[t._v("span")]),t._v("直接是追加到"),n("code",[t._v("template")]),t._v("上的，最后把这个"),n("code",[t._v("template")]),t._v("克隆后追加到"),n("code",[t._v("shadow root")]),t._v("上，其他的没什么变化，效果还是一样的：")]),t._v(" "),n("img",{attrs:{src:a(411),alt:"Shadow DOM demo4"}}),t._v(" "),n("p",[t._v("我们思考一下，这样做的好处是什么呢？因为代码量看上去没多大的改变啊。")]),t._v(" "),n("p",[t._v("实际上，这里的模板，已经被我们抽取出来了，也就是说它是可以重用的。对于业务场景复杂的情况，我们我们抽取出业务上最基础的模板，被其他自定义组件使用。这无疑是一项很大的突破。并且，我们在模板里编写样式，这个样式仅在模板里起作用，不会污染到外部的DOM，体现了很强的封装性。光这两点就很令人兴奋了。别急，它还有一个更令人兴奋的功能 —— "),n("code",[t._v("Slot")]),t._v("插槽！")]),t._v(" "),n("h3",{attrs:{id:"slot-插槽"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#slot-插槽"}},[t._v("#")]),t._v(" Slot 插槽")]),t._v(" "),n("p",[t._v("插槽实际上提供的是一个占位符的功能，它很简单，同时也十分灵活。vue的插槽机制也是借鉴于此，只不过vue是通过VDOM来实现的。我们在原先的例子上添加一个标题和描述信息。")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("colored-text")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("text")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hello shadow dom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("green"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("slot")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("标题"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("slot")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("desc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("描述"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("colored-text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("color-text-tpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token style"}},[n("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n      "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".big-font")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 26px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" bold"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[name='title']")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[name='desc']")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    ")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("slot")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("slot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("slot")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("desc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("slot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("不需要修改js，只要改动模板即可。我们添加了两个命名插槽，分别设置来不同的样式，并且在使用组件的时候定义了这两个插槽，一起来看看效果：")]),t._v(" "),n("img",{attrs:{src:a(487),alt:"Shadow DOM demo5"}}),t._v(" "),n("p",[t._v("到此为止，关于如何创建一个"),n("code",[t._v("Web Component")]),t._v("的介绍就结束了。目前前端开发的大势也是组件化开发，像"),n("code",[t._v("Vue")]),t._v("、"),n("code",[t._v("React")]),t._v("等和基于它们的很多优秀插件，都是组件化的最佳实践。它带来的好处不言而喻：重用性更高的代码，更丰富的插件库，维护性更高的系统...我们在实际的开发中，也要利用这种思想，合理的拆分出系统中的各个组件，让系统体会到组件化的优势。")]),t._v(" "),n("h3",{attrs:{id:"几个api的解释"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#几个api的解释"}},[t._v("#")]),t._v(" 几个API的解释")]),t._v(" "),n("ol",[n("li",[n("code",[t._v("this.attachShadow()")])])]),t._v(" "),n("p",[t._v("它给指定的元素挂载一个"),n("code",[t._v("Shadow DOM")]),t._v("，并且返回对"),n("code",[t._v("ShadowRoot")]),t._v("的引用。它接收一个初始化对象作为参数，这个对象包含以下字段：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("mode")])])]),t._v(" "),n("p",[t._v("这个很简单，值为"),n("code",[t._v("open")]),t._v("的话，外部的js可以访问到这个"),n("code",[t._v("shadowRoot")]),t._v("对象；为"),n("code",[t._v("closed")]),t._v("的话，访问"),n("code",[t._v("shadowRoot")]),t._v("的话会得到"),n("code",[t._v("null")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("delegatesFocus")])])]),t._v(" "),n("p",[t._v("这是一个布尔值, 当设置为 "),n("code",[t._v("true")]),t._v(" 时, 指定减轻自定义元素的聚焦性能问题行为。当"),n("code",[t._v("shadow DOM")]),t._v("中不可聚焦的部分被点击时, 让第一个可聚焦的部分成为焦点, 并且"),n("code",[t._v("shadow host")]),t._v("将提供所有可用的"),n("code",[t._v(":focus")]),t._v("样式。这个属性很少用。")]),t._v(" "),n("p",[t._v("要注意的是，不是每一种类型的元素都可以附加到"),n("code",[t._v("shadow root")]),t._v("下面。出于安全考虑，一些元素不能使用"),n("code",[t._v("shadow DOM")]),t._v("（例如"),n("code",[t._v("<a>")]),t._v("），以及许多其他的元素。具体的可以参考MDN文档。")]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[n("code",[t._v("customElements.define()")])])]),t._v(" "),n("p",[t._v("用来自定义组件的，它接收三个参数：自定义组件的名称，组件构造函数，一个可选的属性（可以用来指定继承的父元素）。")]),t._v(" "),n("h3",{attrs:{id:"高级-组件的生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#高级-组件的生命周期"}},[t._v("#")]),t._v(" 高级 - 组件的生命周期")]),t._v(" "),n("p",[t._v("无论是在"),n("code",[t._v("Vue")]),t._v("还是其他的前端框架中，组件肯定都有它的生命周期，我们可以在组件不同的阶段针对性的做不同的事。"),n("code",[t._v("Web Component")]),t._v("包含以下几个生命周期：")]),t._v(" "),n("ul",[n("li",[n("p",[n("code",[t._v("connectedCallback")]),t._v(" 当组件与真实的DOM建立连接的时候调用")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("disconnectedCallback")]),t._v(" 当组件与真实的DOM失去连接的时候调用")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("adoptedCallback")]),t._v(" 当组件被移动到一个新文档的时候调用")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("attributeChangedCallback")]),t._v(" 组件的属性修改时调用")])])]),t._v(" "),n("p",[t._v("具体的读者可以打印出一点东西看看，什么时机会调用什么样的方法。后面我会单独写一篇来介绍这些生命周期的用法。")]),t._v(" "),n("p",[n("strong",[t._v("参考文档")])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN - Using_templates_and_slots"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN - Using_custom_elements"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN - Using_shadow_DOM"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);